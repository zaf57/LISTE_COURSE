<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Bienvenue au MARIAGE UZ/KISACIK le 4 mai 2024 </title>

</head>
<body>
    <div id="photo-container" style="display: none;">
        <img src="https://github.com/zaf57/TEST/blob/main/black%20horse.jpg?raw=true" alt="Photo de la fête" style="width: 100%; height: 100vh; object-fit: cover;">
    </div>

    <h1>Bienvenue au MARIAGE UZ/KISACIK du 4 mai 2024</h1>
    <form id="test-form">
        <label for="nom">Nom</label>
        <input type="text" name="nom" id="nom" />
        <br /><br />
        <label for="prenom">Prénom</label>
        <input type="text" name="prenom" id="prenom" />
        <br /><br />
        <label for="participation">Participerez-vous?</label>
        <select name="participation" id="participation">
            <option value="non">Non</option>
            <option value="peut etre">Peut être</option>
            <option value="oui">Oui</option>
        </select>
        <br /><br />
        <label for="message">Message :</label>
        <textarea name="message" id="message"></textarea>
        <br /><br />
        <button type="submit" id="submit-form" name="envoyer">Envoyer</button>
    </form>

    <br /><br />
    <input id="num" class="alignRight" type="text" required style="height: 40px; width: 280px;" />

    <div id="heart-container" style="display: none;"></div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
        $('#test-form').on('submit', function(e) {
            e.preventDefault();
            var $form = $(this);
            var url = 'https://script.google.com/macros/s/AKfycbzcQ97KVElxEaHT2Cl_cPff8ndY-3t3m4HYgb_a_IaheA_Lf0iwZMiAZ9dTLIoqt-fJ/exec';
            var formData = $form.serialize();
            $.ajax({
                url: url,
                method: "GET",
                dataType: "json",
                data: formData
            }).done(function() {
                $('#photo-container').show();
                $('#nom').val('');
                $('#prenom').val('');
                $('#participation').val('');
                $('#message').val('');
                $('#heart-container').show();
            });
        });

        $(document).ready(function() {
            $('#num')
                .keyboard({
                    layout: 'num',
                    restrictInput: true,
                    preventPaste: true,
                    autoAccept: true
                })
                .addTyping();
        });

        function createHeart() {
            var heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 2 + 3 + 's';
            document.getElementById('heart-container').appendChild(heart);
            setTimeout(() => {
                heart.remove();
            }, 5000);
        }

        setInterval(createHeart, 300);
    </script>
</body>
</html>
