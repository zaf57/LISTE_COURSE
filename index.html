<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/virtual-keyboard/1.28.8/js/jquery.keyboard.min.js"></script>
   
    <title>Bienvenue au MARIAGE de ZAFER et RUKIYE le 4 mai 2024 </title>
</head>
<body>
    <div id="photo-container" style="display: none;">
        <img src="https://github.com/zaf57/TEST/blob/main/black%20horse.jpg?raw=true" alt="Photo de la fête" style="width: 100%; height: 100vh; object-fit: cover;">
    </div>
    <div id="sending-banner" style="display: none; position: fixed; top: 0; width: 100%; background-color: #ebba91; text-align: center; padding: 10px;">
        Envoi en cours...
    </div>

    <h1>Bienvenue au MARIAGE ! </h1>
    <h2> Rukiye UZ & Zafer KISACIK</h2>
    <h2> le 4 mai 2024</h2>
    
    <form id="test-form">
        <label for="nom">Nom:</label>
        <input type="text" name="nom" id="nom" />
        <br /><br />
        <label for="prenom">Prénom:</label>
        <input type="text" name="prenom" id="prenom" />
        <br /><br />
        <label for="participation">Participerez-vous?</label>
        <select name="participation" id="participation">
            <option value="oui">Oui</option>
            <option value="non">Non</option>
            <option value="peut etre">Peut être</option>
        </select>
                      
        <select name="personne" id="personne">
            <option value="0">?</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
        </select>
        <br /><br />
        <label for="message">Message :</label>
        <textarea name="message" id="message"></textarea>
        <br /><br />
        <button type="submit" id="submit-form" name="envoyer">Envoyer</button>
    </form>

    <br /><br />
    <input id="num" class="alignRight" type="text" required style="height: 40px; width: 280px;" />

    <div id="heart-container" style="display: none;"></div>

    <script>
        $('#test-form').on('submit', function(e) {
            e.preventDefault();
            $('#sending-banner').show(); // Afficher la bannière d'envoi en cours
            var $form = $(this);
            var url = 'https://script.google.com/macros/s/AKfycbzcQ97KVElxEaHT2Cl_cPff8ndY-3t3m4HYgb_a_IaheA_Lf0iwZMiAZ9dTLIoqt-fJ/exec';
            var formData = $form.serialize();
            var currentDate = new Date().toLocaleString(); // Obtenir la date actuelle
            formData += '&date=' + currentDate; // Ajouter la date au formulaire
            
            $.ajax({
                url: url,
                method: "GET",
                dataType: "json",
                data: formData
            }).done(function() {
                $('#photo-container').show();
                $('#nom').val('');
                $('#prenom').val('');
                $('#participation').val('');
                $('#message').val('');
                $('#heart-container').show();
                $('#sending-banner').hide(); // Cacher la bannière une fois l'envoi terminé
                
            });
        });

        $('#num').hide(); //cacher la fonction keyboards
        $(document).ready(function() {
            $('#num')
                .keyboard({
                    layout: 'num',
                    restrictInput: true,
                    preventPaste: true,
                    autoAccept: true
                })
                .addTyping();
        });

        function createHeart() {
            var heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 2 + 3 + 's';
            document.getElementById('heart-container').appendChild(heart);
            setTimeout(() => {
                heart.remove();
            }, 5000);
        }

        setInterval(createHeart, 300);

        //fonction vibrer
        $(document).ready(function() {
        $('#submit-form').addClass('vibrate-button');
    });
    </script>
</body>
</html>
